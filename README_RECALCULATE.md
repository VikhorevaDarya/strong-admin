# üîÑ –ü–µ—Ä–µ—Å—á–µ—Ç products_count –¥–ª—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Å–∫–ª–∞–¥–æ–≤

–ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ª–æ–≥–∏–∫–∏ –ø–æ–¥—Å—á–µ—Ç–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –æ–¥–∏–Ω —Ä–∞–∑ –ø–µ—Ä–µ—Å—á–∏—Ç–∞—Ç—å –≤—Å–µ —Å–∫–ª–∞–¥—ã.

## üöÄ –°–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–± (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

### –í–∞—Ä–∏–∞–Ω—Ç 1: HTML –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `recalculate.html` –≤ –±—Ä–∞—É–∑–µ—Ä–µ
2. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "üöÄ –ù–∞—á–∞—Ç—å –ø–µ—Ä–µ—Å—á–µ—Ç"
3. –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
4. –ì–æ—Ç–æ–≤–æ!

### –í–∞—Ä–∏–∞–Ω—Ç 2: –û–¥–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞

1. –û—Ç–∫—Ä–æ–π—Ç–µ Strong Admin –≤ –±—Ä–∞—É–∑–µ—Ä–µ: http://localhost:3000
2. –í–æ–π–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É
3. –ù–∞–∂–º–∏—Ç–µ F12 ‚Üí Console
4. –í—Å—Ç–∞–≤—å—Ç–µ —ç—Ç—É –∫–æ–º–∞–Ω–¥—É –∏ –Ω–∞–∂–º–∏—Ç–µ Enter:

```javascript
(async()=>{const pb=(await import('./src/api/pocketbase.client.js')).pb;const w=await pb.collection('warehouses').getFullList();console.log(`üì¶ –ü–µ—Ä–µ—Å—á–µ—Ç ${w.length} —Å–∫–ª–∞–¥–æ–≤...`);for(const warehouse of w){const p=await pb.collection('products').getFullList({filter:`warehouse="${warehouse.id}"`,fields:'id,quantity,name'});const q=p.reduce((s,pr)=>s+(pr.quantity||0),0);const n=p.map(pr=>pr.name||'–ë–µ–∑ –Ω–∞–∑–≤–∞–Ω–∏—è').join(', ');await pb.collection('warehouses').update(warehouse.id,{products_count:q,products_name:n});console.log(`‚úÖ ${warehouse.name}: ${q} (${p.length} —Ç–æ–≤–∞—Ä–æ–≤)`);}console.log('üéâ –ì–æ—Ç–æ–≤–æ! –û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É.');})();
```

5. –û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É (F5)

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ü–æ–¥—Ä–æ–±–Ω—ã–π —Å–∫—Ä–∏–ø—Ç

1. –û—Ç–∫—Ä–æ–π—Ç–µ Strong Admin –≤ –±—Ä–∞—É–∑–µ—Ä–µ
2. –í–æ–π–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É
3. –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `recalculate-script.js`
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤–µ—Å—å –∫–æ–¥
5. –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å (F12 ‚Üí Console)
6. –í—Å—Ç–∞–≤—å—Ç–µ –∫–æ–¥ –∏ –Ω–∞–∂–º–∏—Ç–µ Enter
7. –û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É (F5)

## ‚úÖ –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –ø–µ—Ä–µ—Å—á–µ—Ç–µ

–î–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–∫–ª–∞–¥–∞ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –¥–≤–∞ –ø–æ–ª—è:

1. **`products_count`** = —Å—É–º–º–∞ –≤—Å–µ—Ö `quantity` —Ç–æ–≤–∞—Ä–æ–≤ –Ω–∞ —Å–∫–ª–∞–¥–µ
2. **`products_name`** = —Å–ø–∏—Å–æ–∫ –Ω–∞–∑–≤–∞–Ω–∏–π –≤—Å–µ—Ö —Ç–æ–≤–∞—Ä–æ–≤ —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é

**–ü—Ä–∏–º–µ—Ä:**

**–î–æ –ø–µ—Ä–µ—Å—á–µ—Ç–∞:**
```json
{
  "name": "–ì–ª–∞–≤–Ω—ã–π —Å–∫–ª–∞–¥",
  "products_count": 3,  // –±—ã–ª–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–∑–∏—Ü–∏–π
  "products_name": ""   // –±—ã–ª–æ –ø—É—Å—Ç–æ
}
```

**–ü–æ—Å–ª–µ –ø–µ—Ä–µ—Å—á–µ—Ç–∞:**
```json
{
  "name": "–ì–ª–∞–≤–Ω—ã–π —Å–∫–ª–∞–¥",
  "products_count": 18,  // —Ç–µ–ø–µ—Ä—å —Å—É–º–º–∞ quantity (5+10+3)
  "products_name": "–°–∫—É—Ç–µ—Ä Xiaomi Pro, –°–∫—É—Ç–µ—Ä Ninebot Max, –®–ª–µ–º –∑–∞—â–∏—Ç–Ω—ã–π"
}
```

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞

–ü–æ—Å–ª–µ –ø–µ—Ä–µ—Å—á–µ—Ç–∞:

1. –û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É Strong Admin (F5)
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É "–°–∫–ª–∞–¥—ã"
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–ª–æ–Ω–∫—É "–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–≤–∞—Ä–æ–≤"
4. –ó–Ω–∞—á–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã –∏–∑–º–µ–Ω–∏—Ç—å—Å—è —Å "–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–∑–∏—Ü–∏–π" –Ω–∞ "—Å—É–º–º–∞ quantity"

**–ü—Ä–∏–º–µ—Ä –ø—Ä–æ–≤–µ—Ä–∫–∏:**

| –°–∫–ª–∞–¥ | –ë—ã–ª–æ | –°—Ç–∞–ª–æ | –¢–æ–≤–∞—Ä—ã |
|-------|------|-------|--------|
| –ì–ª–∞–≤–Ω—ã–π | 3 | 18 | –°–∫—É—Ç–µ—Ä A (qty:5), –°–∫—É—Ç–µ—Ä B (qty:10), –®–ª–µ–º (qty:3) |
| –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π | 2 | 25 | –ê–∫—Å–µ—Å—Å—É–∞—Ä A (qty:15), –ê–∫—Å–µ—Å—Å—É–∞—Ä B (qty:10) |

## ‚ö†Ô∏è –í–∞–∂–Ω–æ

### –ù—É–∂–Ω–æ –ª–∏ –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞—Ç—å –∫–∞–∂–¥—ã–π —Ä–∞–∑?

**–ù–ï–¢!** –ü–µ—Ä–µ—Å—á–µ—Ç –Ω—É–∂–µ–Ω —Ç–æ–ª—å–∫–æ **–æ–¥–∏–Ω —Ä–∞–∑** –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–æ–¥–∞.

–ü–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –ø–µ—Ä–µ—Å—á–µ—Ç–∞ —Å–∏—Å—Ç–µ–º–∞ **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏** –æ–±–Ω–æ–≤–ª—è–µ—Ç –æ–±–∞ –ø–æ–ª—è –ø—Ä–∏:
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–∏ —Ç–æ–≤–∞—Ä–∞
- ‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏–∏ quantity —Ç–æ–≤–∞—Ä–∞
- ‚úÖ –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –Ω–∞–∑–≤–∞–Ω–∏—è —Ç–æ–≤–∞—Ä–∞
- ‚úÖ –ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–∏ —Ç–æ–≤–∞—Ä–∞ –Ω–∞ –¥—Ä—É–≥–æ–π —Å–∫–ª–∞–¥
- ‚úÖ –£–¥–∞–ª–µ–Ω–∏–∏ —Ç–æ–≤–∞—Ä–∞
- ‚úÖ –ò–º–ø–æ—Ä—Ç–µ –∏–∑ Excel

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

–£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ:
- ‚úÖ PocketBase –∑–∞–ø—É—â–µ–Ω –Ω–∞ http://127.0.0.1:8090
- ‚úÖ –í –∫–æ–ª–ª–µ–∫—Ü–∏–∏ `warehouses` –µ—Å—Ç—å –ø–æ–ª–µ `products_name` (—Ç–∏–ø: Text)
- ‚úÖ –í—ã –≤–æ—à–ª–∏ –≤ —Å–∏—Å—Ç–µ–º—É Strong Admin

### –ï—Å–ª–∏ –ø–æ–ª–µ products_name –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç

1. –û—Ç–∫—Ä–æ–π—Ç–µ PocketBase Admin: http://127.0.0.1:8090/_/
2. Collections ‚Üí warehouses ‚Üí Add Field
3. Type: **Text**
4. Name: `products_name`
5. Required: **–ù–ï–¢**
6. Save

–ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –≤ —Ñ–∞–π–ª–µ `SETUP_PRODUCTS_NAME_FIELD.md`

## üêõ –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –æ—à–∏–±–æ–∫

### –û—à–∏–±–∫–∞: "unauthorized" –∏–ª–∏ "401"

**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω—ã –≤ Strong Admin
**–†–µ—à–µ–Ω–∏–µ:** –í–æ–π–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É –∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞

### –û—à–∏–±–∫–∞: "Cannot find module"

**–ü—Ä–∏—á–∏–Ω–∞:** –í—ã–ø–æ–ª–Ω—è–µ—Ç–µ —Å–∫—Ä–∏–ø—Ç –Ω–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ Strong Admin
**–†–µ—à–µ–Ω–∏–µ:** –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:3000 –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —Ç–∞–º

### –û—à–∏–±–∫–∞: "Failed to fetch" –∏–ª–∏ "PocketBase –Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω"

**–ü—Ä–∏—á–∏–Ω–∞:** PocketBase –Ω–µ –∑–∞–ø—É—â–µ–Ω
**–†–µ—à–µ–Ω–∏–µ:** –ó–∞–ø—É—Å—Ç–∏—Ç–µ PocketBase —Å–µ—Ä–≤–µ—Ä

### –û—à–∏–±–∫–∞: "Field validation failed" –¥–ª—è products_name

**–ü—Ä–∏—á–∏–Ω–∞:** –ü–æ–ª–µ `products_name` –Ω–µ —Å–æ–∑–¥–∞–Ω–æ –∏–ª–∏ Required=true
**–†–µ—à–µ–Ω–∏–µ:** –°–æ–∑–¥–∞–π—Ç–µ –ø–æ–ª–µ –∫–∞–∫ –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ (—Å–º. –≤—ã—à–µ)

### –ó–Ω–∞—á–µ–Ω–∏—è –Ω–µ –∏–∑–º–µ–Ω–∏–ª–∏—Å—å –ø–æ—Å–ª–µ –ø–µ—Ä–µ—Å—á–µ—Ç–∞

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –Ω–∞ –æ—à–∏–±–∫–∏
2. –û—á–∏—Å—Ç–∏—Ç–µ –∫–µ—à –±—Ä–∞—É–∑–µ—Ä–∞ (Ctrl+Shift+R –∏–ª–∏ Cmd+Shift+R)
3. –ó–∞–∫—Ä–æ–π—Ç–µ –∏ –æ—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä –∑–∞–Ω–æ–≤–æ

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

- `WAREHOUSE_COUNT_AUTO_UPDATE.md` - –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–¥—Å—á–µ—Ç
- `SETUP_PRODUCTS_NAME_FIELD.md` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–ª—è products_name
- `QUICK_RECALCULATE.md` - –∫—Ä–∞—Ç–∫–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –ø–µ—Ä–µ—Å—á–µ—Ç—É

## ‚ú® –ü–æ—Å–ª–µ –ø–µ—Ä–µ—Å—á–µ—Ç–∞

–í—Å–µ –≥–æ—Ç–æ–≤–æ! –¢–µ–ø–µ—Ä—å:

1. ‚úÖ `products_count` —Å–æ–¥–µ—Ä–∂–∏—Ç —Å—É–º–º—É quantity –≤—Å–µ—Ö —Ç–æ–≤–∞—Ä–æ–≤
2. ‚úÖ `products_name` —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–ø–∏—Å–æ–∫ –Ω–∞–∑–≤–∞–Ω–∏–π —Ç–æ–≤–∞—Ä–æ–≤
3. ‚úÖ –û–±–∞ –ø–æ–ª—è –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –ª—é–±—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö
4. ‚úÖ –ë–æ–ª—å—à–µ –Ω–µ –Ω—É–∂–Ω–æ –Ω–∏—á–µ–≥–æ –¥–µ–ª–∞—Ç—å –≤—Ä—É—á–Ω—É—é

–ú–æ–∂–µ—Ç–µ —É–¥–∞–ª–∏—Ç—å —Ñ–∞–π–ª—ã –ø–µ—Ä–µ—Å—á–µ—Ç–∞:
- `recalculate.html`
- `recalculate-script.js`
- `README_RECALCULATE.md`

–û–Ω–∏ –±–æ–ª—å—à–µ –Ω–µ –ø–æ–Ω–∞–¥–æ–±—è—Ç—Å—è! üéâ
